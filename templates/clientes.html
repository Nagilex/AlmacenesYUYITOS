{% extends 'base.html' %}
{% block title %}Clientes - Yuyitos{% endblock %}

{% block content %}
<div class="card p-4 mb-4">
    <div class="d-flex justify-content-between align-items-center">
        <h2 class="fw-bold mb-0"><i class="fas fa-users"></i> Gesti√≥n de Clientes</h2>
        <a href="/admin/mainApp/cliente/add/" class="btn btn-primary">
            <i class="fas fa-plus"></i> Nuevo Cliente
        </a>
    </div>
</div>

<div class="row g-4">
    {% for cliente in clientes %}
    <div class="col-md-4">
        <div class="card p-4">
            <h4 class="fw-bold">{{ cliente.nombre }}</h4>
            <p class="text-muted mb-3">RUT: {{ cliente.rut }}</p>
            
            <div class="mb-3">
                <div class="d-flex justify-content-between mb-2">
                    <span>Deuda:</span>
                    <span class="fw-bold {% if cliente.deuda_actual > 0 %}text-danger{% else %}text-success{% endif %}">
                        ${{ cliente.deuda_actual|floatformat:0 }}
                    </span>
                </div>
                <div class="d-flex justify-content-between">
                    <span>Estado:</span>
                    <span class="badge {% if cliente.estado == 'activo' %}bg-success{% else %}bg-secondary{% endif %}">
                        {{ cliente.estado|upper }}
                    </span>
                </div>
            </div>

            <a href="/admin/mainApp/cliente/{{ cliente.id }}/change/" class="btn btn-sm btn-outline-primary w-100">
                <i class="fas fa-eye"></i> Ver Detalle
            </a>
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="alert alert-info text-center">
            <i class="fas fa-info-circle"></i> No hay clientes registrados
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}